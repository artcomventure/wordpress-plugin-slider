!function(e,t){"use strict";"function"==typeof define&&define.amd?define("slider",[],function(){return t()}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():window.Slider=t()}(this,function(e){"use strict";function t(e){var t="{(\\d+)}";if("undefined"==typeof e||!e.match(new RegExp(t)))return console.error('Pattern with at least "{INTEGER_LENGHT}" expected.'),!1;for(var i="";!i||s.getElementById(i);)i=e.replace(new RegExp(t,"g"),function(e){for(var i=parseInt(e.match(new RegExp(t))[1]),s="";s.length<i;)s+=Math.random().toString(36).substr(2),s=s.replace(new RegExp("^\\d+"),"");return s.substr(0,i)});return i}function i(t,s,n){switch(s){case"bool":case"boolean":case"[object Boolean]":if([1,"1",!0,"true"].indexOf(t)>-1)return!0;if([0,"0",!1,"false"].indexOf(t)>-1)return!1;break;case"string":case"[object String]":if(t+""==t)return t+"";break;case"number":case"float":case"[object Number]":if(parseFloat(t)==t)return parseFloat(t);break;case"int":case"integer":if(parseInt(t)==t)return parseInt(t);break;case"function":case"[object Function]":if("function"==typeof t)return t;break;case"array":case"[object Array]":if("[object Array]"==Object.prototype.toString.call(t))return t;break;case"object":case"[object Object]":if("[object Object]"==Object.prototype.toString.call(t))return t;break;default:if("[object RegExp]"!=Object.prototype.toString.call(s))return i(t,Object.prototype.toString.call(s),n);if((t+"").match(s))return t}return"undefined"!=typeof n?n:e}var s=window.document,n={startSlide:1,duration:500,loop:!0,pager:{regexp:new RegExp("^(top|bottom|none)$"),value:"bottom"},navigation:!1,dimension:{regexp:new RegExp("^(auto|((\\d+)(px|%)?)(\\s*(:|x)\\s*((\\d+)(px|%)?))?)$"),value:"16:9"},columns:{regexp:new RegExp("^\\d+$"),value:1},jump:{regexp:new RegExp("^(columns|\\d+)$"),value:"columns"},captions:!1,slideshow:{regexp:new RegExp("^(false|\\d+)$"),value:!1},effect:{regexp:new RegExp("^(slide)$"),value:"slide"},t9n:{previous:"previous",next:"next",slideTo:"slide to"},onInit:function(){},onBeforeSlide:function(){},onSlide:function(){},onSlideComplete:function(){}},r=["duration","effect","loop","pager","navigation","dimension","columns","jump","captions","slideshow"];return window.Sliders={next:function(){return this.slider("slide","next")},prev:function(){return this.slider("slide","prev")},slide:function(t){var s=window.Sliders.settings[this.id],n=s.$;if(s==e)return console.error("Great Scott! No slider settings found :/ Do you know what this means? It means that this damn thing doesn't work at all!"),this;var r=this.slider("get","columns"),l=n.slides.children.length,d=this.slider("get","loop"),a=this.slider("get","jump");if("columns"==a||a>r?a=r:1>a&&(a=1),a=parseInt(a),"next"==t)t=s.iCurrentSlide+a,t-a>=l-r?t=l-r+1:t-a>l-r-a&&(t=l-r);else if("prev"==t)t=s.iCurrentSlide-a,0>=t+a?t=-1:a>t+a&&(t=0);else{if("undefined"!=typeof t.target?(t=parseInt(t.target.innerHTML),t>l-r&&(t=l-r+1)):t=i(t,"int"),t==e)return this;t--,n.pager.children[t]!=e&&n.pager.children[t].className.indexOf("active")>-1?t=s.iCurrentSlide:t>l-r&&(t=l-r)}0>t?t=d?l-r:0:t>l-r&&(t=d?0:l-r),t!=s.iCurrentSlide&&(s.onBeforeSlide.apply(this),s.iCurrentSlide=t,this.slider("setLoop"),setTimeout(function(){s.onSlideComplete.bind(this)}.bind(this),s.duration));var o=-100/n.slides.children.length*t,c=0;n.slides.children.length<=r&&(o=0),n.slides.children.length<r&&(c=50/r*(r-n.slides.children.length)),o="translate("+o+"%,0)",n.slides.style.msTransform=o,n.slides.style.mozTransform=o,n.slides.style.transform=o,n.slides.style.left=c+"%";for(var h=0;h<n.pager.children.length;h++)h>=t&&t>h-r?Sliders.helper.addClass.call(n.pager.children[h],"active"):Sliders.helper.removeClass.call(n.pager.children[h],"active");return this},set:function(t,s){if(i(t,"object"))for(var l in t)t.hasOwnProperty(l)&&this.slider("set",l,t[l]);else{if(r.indexOf(t)<0)return this;if(s=i(s,n[t].regexp!=e?n[t].regexp:n[t]),s==e)return this;if("function"==typeof Sliders["set"+t[0].toUpperCase()+t.slice(1)])return this.slider("set"+t[0].toUpperCase()+t.slice(1),s);this.setAttribute("data-"+t,s)}return this},get:function(t){if(r.indexOf(t)<0)return e;var s=window.Sliders.settings[this.id];return i(this.getAttribute("data-"+t),n[t].regexp!=e?n[t].regexp:n[t],s[t].value!=e?s[t].value:s[t])},setColumns:function(t){if(!i(t,n.columns.regexp,!1))return this;this.setAttribute("data-columns",t);var s=this.slider("get","dimension");return window.Sliders.setDimension.call(this,"auto"==s?s:e),window.Sliders.slide.call(this,window.Sliders.settings[this.id].iCurrentSlide+1),this.slider("setLoop"),this},setSlideshow:function(t){return t=i(t,n.slideshow.regexp,this.slider("get","slideshow")),this.setAttribute("data-slideshow",t),this.slideshow!=e&&(clearInterval(this.slideshow),delete this.slideshow),t?(setTimeout(function(e,t){-1===this.className.indexOf("hover")&&this.slider("next"),this.slideshow=setInterval(function(){-1===this.className.indexOf("hover")&&this.slider("next")}.bind(this),parseInt(e)+t)}.bind(this,t,this.slider("get","duration")),t),this):void 0},setLoop:function(e){var t=window.Sliders.settings[this.id],s=t.$,r=this.slider("get","columns");return e=i(e,n.loop,this.slider("get","loop")),this.setAttribute("data-loop",e),s.slides.children.length<=r?(Sliders.helper.addClass.call(s.navigation.children[0],"disabled"),Sliders.helper.addClass.call(s.navigation.children[1],"disabled")):e?(Sliders.helper.removeClass.call(s.navigation.children[0],"disabled"),Sliders.helper.removeClass.call(s.navigation.children[1],"disabled")):(0==t.iCurrentSlide?Sliders.helper.addClass.call(s.navigation.children[0],"disabled"):Sliders.helper.removeClass.call(s.navigation.children[0],"disabled"),t.iCurrentSlide==s.slides.children.length-r?Sliders.helper.addClass.call(s.navigation.children[1],"disabled"):Sliders.helper.removeClass.call(s.navigation.children[1],"disabled")),this},setDimension:function(e){var t,i,s,r=window.Sliders.settings[this.id].$.slides;for(t=0;t<r.children.length;t++)window.Sliders.helper.removeClass.call(r.children[t],["cover-height","cover-width"]);if("auto"==e)this.setAttribute("data-dimension",e),r.style.paddingTop="";else{if(this.removeAttribute("data-dimension"),"undefined"!=typeof e){var l=e.match(n.dimension.regexp),d=l[3],a=l[4],o=l[8],c=l[9];l[6]&&o?":"==l[6]?(o=100*o/d,c="%",d=!1,a=!1):[c,a].indexOf("%")<0&&(o=100*o/d,c="%"):(o="100",c="%"),d&&(this.style.width=d+(a?a:"px")),o&&("%"==c?r.style.paddingTop=o+c:(r.style.paddingTop="",r.style.height=o+"px"))}for(t=0;t<r.children.length;t++)i=r.children[t].getElementsByTagName("img"),i.length&&(s=i[0].offsetHeight*r.children[t].offsetWidth/i[0].offsetWidth<r.children[t].offsetHeight?"height":"width",window.Sliders.helper.addClass.call(r.children[t],"cover-"+s))}return this},setDuration:function(e){var t=window.Sliders.settings[this.id];return i(e,"number",t.duration)&&(this.setAttribute("data-duration",e),"undefined"!=typeof t.$.css&&t.$.css.remove(),e="transition: transform "+e/1e3+"s;",t.$.css=s.createElement("style"),t.$.css.type="text/css",t.$.css.innerHTML="#"+this.id+" .slides {\n-moz-"+e+"\n-o-"+e+"\n-webkit-"+e+e+"\n}",s.getElementsByTagName("head")[0].appendChild(t.$.css)),this},reset:function(t){if(t==e?t=[]:"string"==typeof t&&(t=[t]),!i(t,"array"))return this;for(var s=0;s<r.length;s++)(!t.length||t.indexOf(r[s])>-1)&&this.slider("set",r[s],window.Sliders.settings[this.id][r[s]]);return this},destroy:function(e){if("destroy"!==e)return console.error('Missing confirmation "destroy" to destroy slider. Are you really sure?'),this;var t,i=window.Sliders.settings[this.id];i.$.navigation.remove(),i.$.pager.remove(),i.$.css.remove(),Sliders.helper.removeClass.call(this,"slider-attached"),Sliders.helper.removeClass.call(i.$.slides,"slides"),i.$.slides.style.left="",i.$.slides.style.paddingTop="",i.$.slides.style.transform="",this.removeAttribute("data-slides");for(t in i)this.removeAttribute("data-"+t);return delete window.Sliders.settings[this.id],delete this.slider,this},settings:{},helper:{toggleClass:function(e,t){if("string"==typeof e&&(e=e.split(" ")),e=e.filter(function(e){return e.trim()}),e.length){["add","remove"].indexOf(t)<0&&(t="toggle");var i,s,n,r=this.className.split(" ");for(r=r.filter(function(e){return e.trim()}),i=0;i<e.length;i++)switch(n="toggle"!=t?t:r.indexOf(e[i])<0?"add":"remove"){case"add":r.indexOf(e[i])<0&&r.push(e[i]);break;case"remove":s=r.indexOf(e[i]),s>-1&&r.splice(s,1)}return this.className=r.join(" "),this}},addClass:function(e){return Sliders.helper.toggleClass.call(this,e,"add")},removeClass:function(e){return Sliders.helper.toggleClass.call(this,e,"remove")}}},function l(d,a){if(!(this instanceof l))return new l(d,a);var o=d;switch("[object String]"==Object.prototype.toString.call(d)&&(d.match(new RegExp("(\\w+(\\.|#)| |>|\\+|~)"))?d=s.querySelectorAll(d):"."==d[0]?d=s.getElementsByClassName(d.slice(1)):"#"==d[0]&&(d=s.getElementById(d.slice(1))),o=d),Object.prototype.toString.call(d)){default:d=[d];break;case"[object NodeList]":case"[object HTMLCollection]":d=[].slice.call(d)}if(d.filter(function(e){return!("function"==typeof e.slider)}),!d.length)return o;a=a||{};for(var c,h,u,p,f,g,v,m,w=0;h=d[w++];){if(Sliders.helper.addClass.call(h,"slider-attached"),h.children.length<1)return;for(h.children.length>1&&console.info("Multiple children in .slider detected. Slider will work fine but the navigation and pager will likely be on wrong positions. Solution: expected markup: slider > slides{1} > slide{n}"),h.id||(h.id=t("slider-{5}")),u=h.children[0],Sliders.helper.addClass.call(u,"slides"),h.setAttribute("data-slides",u.children.length),c={},m=0;m<r.length;m++)c[r[m]]=h.getAttribute("data-"+r[m]);for(v in a)n.hasOwnProperty(v)&&(a[v]=i(a[v],n[v].regexp!=e?n[v].regexp:n[v]),a[v]!=e&&(c[v]=a[v]));for(v in n)c[v]=i(c[v],n[v].regexp!=e?n[v].regexp:n[v]),c[v]==e&&(c[v]=n[v].value!=e?n[v].value:n[v]);for(p=s.createElement("ul"),Sliders.helper.addClass.call(p,"slider__navigation"),m=0;2>m;m++)g=s.createElement("li"),m?(g.innerHTML=c.t9n.next,g.setAttribute("data-slide","next")):(g.innerHTML=c.t9n.previous,g.setAttribute("data-slide","prev")),g.addEventListener("click",function(e){this.slider(e.target.getAttribute("data-slide"))}.bind(h)),p.appendChild(g);for(h.appendChild(p),f=s.createElement("ul"),window.Sliders.helper.addClass.call(f,"slider__pager"),m=1;m<=u.children.length;m++)g=s.createElement("li"),g.innerHTML=m,g.addEventListener("click",function(e){this.slider("slide",e.target.innerHTML)}.bind(h)),f.appendChild(g);h.appendChild(f),h.addEventListener("mouseover",function(){Sliders.helper.addClass.call(this,"hover")}.bind(h)),h.addEventListener("mouseout",function(e){for(var t=e.relatedTarget;t&&("BODY"==t.tagName?t=!1:t==this&&(t=!0),"boolean"!=typeof t);)t=t.parentNode;t||Sliders.helper.removeClass.call(this,"hover")}.bind(h));var b=!1,S=function(e){var t,i;e.clientX?(t=e.clientX,i=e.clientY,this.focus()):(t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY),b={clientX:parseInt(t),clientY:parseInt(i)}},x=function(e){if("boolean"==typeof b)return void(b&&e.preventDefault());var t,i;e.clientX?(t=e.clientX,i=e.clientY):(t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY);var s=parseInt(t)-b.clientX;Math.abs(s)>Math.abs(parseInt(i)-b.clientY)&&e.preventDefault(),Math.abs(s)<50||(0>s?this.slider("next"):this.slider("prev"),b=!0)},y=function(){b=!1};h.addEventListener("touchstart",S,!1),h.addEventListener("mousedown",S,!1),h.addEventListener("touchmove",x,!1),h.addEventListener("mousemove",x,!1),h.addEventListener("touchend",y,!1),h.addEventListener("mouseup",y,!1),h.setAttribute("tabindex",0),h.addEventListener("keydown",function(e){switch(e.keyCode){case 38:case 40:return this;case 37:return e.preventDefault(),this.slider("prev");case 39:return e.preventDefault(),this.slider("next")}}.bind(h)),window.Sliders.settings[h.id]=c,window.Sliders.settings[h.id].iCurrentSlide=c.startSlide,window.Sliders.settings[h.id].$={slides:u,navigation:p,pager:f},h.slider=function(e){var t={fnMethods:window.Sliders};t.oSettings=t.fnMethods.settings[this.id];var i;for(v in t){switch(i=!0,typeof t[v][e]){default:return t[v][e];case"function":return t[v][e].apply(this,[].slice.call(arguments).slice(1));case"undefined":i=!1}if(i)break}return this},window.Sliders.reset.apply(h),h.slider("onInit"),c.startSlide&&h.slider("slide",c.startSlide)}return o}});